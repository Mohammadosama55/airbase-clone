<!-- CSS -->
<style>
  /* Base Navbar Styles */
  .airbnb-navbar {
    background: #fff !important;
    border-bottom: 1px solid #ebebeb !important;
    height: 80px;
    transition: all 0.3s ease;
  }
  
  .airbnb-navbar.shrink {
    height: 70px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  /* Logo */
  .airbnb-logo {
    color: #ff385c;
    font-size: 32px;
  }
  
  .airbnb-logo-text {
    color: #222;
    font-weight: 700;
    margin-left: 8px;
  }
  
/* Explore dropdown button */
.btn-explore {
  border: none;
  background: transparent;
  transition: all 0.2s ease;
}

.btn-explore:hover {
  background-color: #f7f7f7;
}

.btn-explore:after {
  display: inline-block;
  margin-left: 0.255em;
  vertical-align: 0.255em;
  content: "";
  border-top: 0.3em solid;
  border-right: 0.3em solid transparent;
  border-bottom: 0;
  border-left: 0.3em solid transparent;
}
  
  /* Search Bar - Normal State */
  .search-container {
    max-width: 850px;
    margin: 0 auto;
    transition: all 0.3s ease;
  }
  
  .search-pill {
    background: #fff;
    border: 1px solid #dddddd;
    border-radius: 40px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 8px 8px 8px 16px;
  }
  
  .search-pill:hover {
    box-shadow: 0 2px 4px rgba(0,0,0,0.18);
  }
  
  .search-divider {
    border-right: 1px solid #ebebeb;
    height: 24px;
    margin: 0 16px;
  }
  
  .search-label {
    font-size: 14px;
    font-weight: 500;
    color: #222;
  }
  
  .search-subtext {
    font-size: 12px;
    color: #717171;
  }
  
  .search-icon {
    background: #ff385c;
    color: #fff;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Search Bar - Expanded State */
.search-pill-expanded {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 850px;
  z-index: 1050;
  padding: 16px;
  border-radius: 32px;          /* <â€” match keyframe */
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
  animation: expand 0.3s ease forwards;
}

@keyframes expand {
  from {
    opacity: 0;
    transform: translateX(-50%) scale(0.95);
    border-radius: 40px;
  }
  to {
    opacity: 1;
    transform: translateX(-50%) scale(1);
    border-radius: 32px;
  }
}
  /* Menu Items */
  .host-link {
    color: #222;
    font-weight: 500;
    font-size: 14px;
  }
  
  .profile-btn {
    border: 1px solid #dddddd;
    border-radius: 21px;
    padding: 5px 5px 5px 12px;
    background: #fff;
    transition: all 0.2s ease;
  }
  
  .profile-btn:hover {
    box-shadow: 0 2px 4px rgba(0,0,0,0.18);
  }
  
  /* Mobile Styles */
  @media (max-width: 992px) {
    .search-container {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      z-index: 1050;
    }
    
    .search-pill {
      padding: 12px 16px;
    }
    
    .search-icon {
      width: 24px;
      height: 24px;
    }
    
    .host-link {
      display: none;
    }
  }

 
</style>

<!-- HTML -->
<nav class="navbar navbar-expand-lg airbnb-navbar fixed-top">
  <div class="container-fluid px-4">
    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="/">
      <i class="fa-solid fa-compass" style="color: #fe424d; font-size: 1.5rem;"></i>
      <span class="ms-2 fw-bold" style="color: #1a1a1a;">Airbase</span>
    </a>
     <!-- Explore dropdown -->
<div  class="dropdown d-none d-md-block">
  <button class="btn btn-explore d-flex align-items-center gap-2 text-dark fw-semibold small px-3 py-1 rounded-pill"
          type="button"
          data-bs-toggle="dropdown"
          aria-expanded="false">
    Explore
  </button>

  <!-- Dropdown menu -->
  <ul class="dropdown-menu dropdown-menu-end mt-2 shadow-sm border-0" style="min-width:220px;">
    <li><a class="dropdown-item" href="/">Home</a></li>
    <li><a class="dropdown-item" href="/listings">All Listings</a></li>
    <li><a class="dropdown-item" href="/listings/new">Add Listing</a></li>
  </ul>
</div>

<div class="d-flex align-items-center gap-3">


    
    <!-- Search Bar -->
    <div class="search-container">
      <div class="search-pill d-flex align-items-center">
        <div class="d-flex flex-column">
          <span class="search-label">Anywhere</span>
          <span class="search-subtext">Add dates</span>
        </div>
        <div class="search-divider"></div>
        <div class="d-flex flex-column">
          <span class="search-label">Any week</span>
          <span class="search-subtext">Add guests</span>
        </div>
        <div class="search-divider d-none d-md-flex"></div>
        <div class="d-flex flex-column d-none d-md-block">
          <span class="search-label">Add guests</span>
          <span class="search-subtext"></span>
        </div>
        <div class="search-icon ms-2">
          <i class="fas fa-search"></i>
        </div>
      </div>
    </div>
    
    <!-- Right Menu -->
    <div class="d-flex align-items-center">
      <a href="#" class="host-link me-3 d-none d-md-block">Become a Host</a>
      
      <div class="dropdown">
        <button class="profile-btn dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown">
          <i class="fas fa-bars me-2"></i>
          <i class="fas fa-user-circle"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end mt-2">
          <% if (user === null || user === undefined) { %>
            <li><a class="dropdown-item fw-semibold" href="/signup">Sign up</a></li>
            <li><a class="dropdown-item" href="/login">Log in</a></li>
            <li><hr class="dropdown-divider"></li>
          <% } else { %>
            <li><a class="dropdown-item" href="/profile">Profile</a></li>
            <li><a class="dropdown-item" href="/trips">Trips</a></li>
            <li><a class="dropdown-item" href="/wishlists">Wishlists</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/logout">Log out</a></li>
          <% } %>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#">Host your home</a></li>
          <li><a class="dropdown-item" href="#">Host an experience</a></li>
          <li><a class="dropdown-item" href="#">Help</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const navbar = document.querySelector('.airbnb-navbar');
  const searchContainer = document.querySelector('.search-container');
  const searchPill = document.querySelector('.search-pill');
  let lastScroll = 0;
  
  // Handle scroll effects
  window.addEventListener('scroll', function() {
    const currentScroll = window.scrollY;
    
    // Navbar shrink effect
    if (currentScroll > 100) {
      navbar.classList.add('shrink');
    } else {
      navbar.classList.remove('shrink');
    }
    
    // Search bar expand effect
    if (currentScroll > 200 && currentScroll > lastScroll) {
      // Scrolling down
      searchPill.classList.add('search-pill-expanded');
    } else if (currentScroll < lastScroll || currentScroll < 50) {
      // Scrolling up or at top
      searchPill.classList.remove('search-pill-expanded');
    }
    
    lastScroll = currentScroll;
  });
  
  // Search bar click handler
  searchPill.addEventListener('click', function(e) {
    if (window.innerWidth > 992) {
      searchPill.classList.toggle('search-pill-expanded');
    }
  });
  
  // Close expanded search when clicking outside
  document.addEventListener('click', function(e) {
    if (!searchPill.contains(e.target) && !e.target.classList.contains('search-pill')) {
      searchPill.classList.remove('search-pill-expanded');
    }
  });
});
</script>


